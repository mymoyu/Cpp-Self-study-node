##### 基本规则

全值匹配

最佳左前缀法则	-	指查询从索引的最左前列开始并且不跳过索引中间的列

不在索引列上做任何操作(计算, 函数, (自动or手动)类型转换), 会导致索引失效而转向全表扫描

存储引擎不能使用索引中范围条件右边的列

尽量使用覆盖所有(只访问索引的查询(索引列和查询列一致)), 减少select *

mysql在使用不等于(!= 或者 <>) 的时候无法使用索引会导致全部扫描

is null, is not null 也无法使用索引

like以通配符开头('%abc...') mysql索引失效会变成全表扫描的操作

字符串不加单引号索引失败

少用or, 用它来连接时会索引失败



如何解决like '%Lucy%' 索引失效问题?

利用覆盖索引(与查询字段完全一致)处理, 但是全部字段(或者超过字段)都搜则会失效



group by 基本上需要进行排序, 会有临时表的产生

##### 一般性建议

对于单键索引, 尽量选择针对当前query过滤性更好的索引

在选择组合索引的时候, 当前query中过滤性最好的字段在索引字段顺序中, 位置越靠前越好

在选择组合索引的时候, 尽量选择可以能够包含当前query中的where子句中更多字段的索引

尽可能通过分析统计信息和调整query的写法来达到选择合适索引的目的